---
title: "Data Cleaning"
format: html
editor: visual
---

```{r}
library(tidyverse)
```

# World Values Survey

These data are sourced from the [World Values Survey Wave 7 (2017-2022)](https://www.worldvaluessurvey.org/WVSDocumentationWV7.jsp), accessed March 26, 2023.

```{r}
wvs_raw <- read_csv("../WVS_Wave7.csv")
```

```{r}
head(wvs_raw)
```

First, we need to select only the nine countries analyzed by Jacobson (2017). These are those countries and their WVS Country Codes:

 - Kenya (404)
 - South Africa (710)
 - Brazil (76)
 - the United States (840)
 - India (356)
 - Thailand (764)
 - England and Wales (Great Britain, 826)
 - Hungary (348)
 - the Netherlands (528)
 - Australia (36)

Now, let's filter for `B_COUNTRY` values that match these codes. Unfortunately, I encountered an error in which it WON'T FILTER "OR" VALUES WHICH IS EVIL. So to solve that, I've made different dataframes for each country and combined them.

```{r}
# creating data frames for each country

kenya <- wvs_raw %>% 
  filter(B_COUNTRY == 404) #filter by country code

safrica <- wvs_raw %>% 
  filter(B_COUNTRY == 710)

brazil <- wvs_raw %>% 
  filter(B_COUNTRY == 76)

us <- wvs_raw %>% 
  filter(B_COUNTRY == 840)

india <- wvs_raw %>% 
  filter(B_COUNTRY == 356)

thailand <- wvs_raw %>% 
  filter(B_COUNTRY == 764)

britain <- wvs_raw %>% 
  filter(B_COUNTRY == 826)

hungary <- wvs_raw %>% 
  filter(B_COUNTRY == 348)

netherlands <- wvs_raw %>% 
  filter(B_COUNTRY == 528)

australia <- wvs_raw %>% 
  filter(B_COUNTRY == 36)
```

```{r}
# join all of the separate country dataframes

wvs_country <- kenya %>% 
  full_join(safrica) %>% 
  full_join(brazil) %>% 
  full_join(us) %>% 
  full_join(india) %>% 
  full_join(thailand) %>% 
  full_join(britain) %>% 
  full_join(hungary) %>% 
  full_join(netherlands) %>% 
  full_join(australia)

```



# References

Haerpfer, Christian, Ronald Inglehart, Alejandro Moreno, Christian Welzel, Kseniya Kizilova, Jaime Diez-Medrano, Marta Lagos, Pippa Norris, Eduard Ponarin, and Bi Puranen. 2022. “World Values Survey Wave 7 (2017-2022) Cross-National Data-Set.” *World Values Survey*. Retrieved March 26, 2023 (https://www.worldvaluessurvey.org/WVSDocumentationWV7.jsp).